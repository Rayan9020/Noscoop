-- تحميل مكتبة Redz
local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/REDzHUB/RedzLibV5/main/Source.Lua"))()

local Window = redzlib:MakeWindow({
    Title = "VEP HUB",
    SubTitle = "No Scope Arcade Script",
    SaveFolder = "Redz Config"
})

-- إنشاء تبويب Hitbox
local hitboxTab = Window:MakeTab({"Hitbox", "Settings"})

local newHitboxSize = Vector3.new(20, 20, 20)
local hitboxEnabled = false

hitboxTab:AddSlider({
    Name = "Hitbox Size",
    Min = 10,
    Max = 100,
    Increase = 1,
    Default = 20,
    Callback = function(value)
        newHitboxSize = Vector3.new(value, value, value)
    end
})

hitboxTab:AddToggle({
    Name = "Enable Hitbox",
    Description = "Enable or disable hitbox",
    Default = false,
    Callback = function(value)
        hitboxEnabled = value
    end
})

game:GetService("RunService").RenderStepped:Connect(function()
    if hitboxEnabled then
        local player = game.Players.LocalPlayer
        for _, enemy in pairs(game.Players:GetPlayers()) do
            if enemy ~= player and enemy.Character and enemy.Character:FindFirstChild("HumanoidRootPart") then
                local hrp = enemy.Character.HumanoidRootPart
                hrp.Size = newHitboxSize
                hrp.Transparency = 0.5
                hrp.CanCollide = false
            end
        end
    end
end)

-- إنشاء تبويب ESP
local espTab = Window:MakeTab({"ESP", "Settings"})

local espEnabled = false

espTab:AddToggle({
    Name = "Enable ESP",
    Description = "Enable or disable ESP",
    Default = false,
    Callback = function(value)
        espEnabled = value
    end
})

game:GetService("RunService").RenderStepped:Connect(function()
    if espEnabled then
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("Head") then
                local head = player.Character.Head
                if not head:FindFirstChild("ESP") then
                    local billboard = Instance.new("BillboardGui", head)
                    billboard.Name = "ESP"
                    billboard.Adornee = head
                    billboard.Size = UDim2.new(1, 0, 1, 0)
                    billboard.AlwaysOnTop = true

                    local textLabel = Instance.new("TextLabel", billboard)
                    textLabel.Text = player.Name
                    textLabel.Size = UDim2.new(1, 0, 1, 0)
                    textLabel.TextColor3 = Color3.new(1, 0, 0)
                    textLabel.BackgroundTransparency = 1
                end
            end
        end
    else
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("Head") then
                local head = player.Character.Head
                if head:FindFirstChild("ESP") then
                    head.ESP:Destroy()
                end
            end
        end
    end
end)

-- إنشاء تبويب AIM
local aimTab = Window:MakeTab({"AIM", "Settings"})

local aimAtNearestPlayer = false

aimTab:AddToggle({
    Name = "Aim at Nearest Player",
    Description = "Automatically aim at the nearest player",
    Default = false,
    Callback = function(value)
        aimAtNearestPlayer = value
    end
})

local function findNearestPlayer()
    local player = game.Players.LocalPlayer
    local nearestPlayer = nil
    local shortestDistance = math.huge

    for _, targetPlayer in pairs(game.Players:GetPlayers()) do
        if targetPlayer ~= player and targetPlayer.Character and targetPlayer.Character:FindFirstChild("Head") then
            local distance = (player.Character.Head.Position - targetPlayer.Character.Head.Position).magnitude
            if distance < shortestDistance then
                nearestPlayer = targetPlayer
                shortestDistance = distance
            end
        end
    end

    return nearestPlayer
end

game:GetService("RunService").RenderStepped:Connect(function()
    if aimAtNearestPlayer then
        local player = game.Players.LocalPlayer
        local nearestPlayer = findNearestPlayer()
        if nearestPlayer and nearestPlayer.Character and nearestPlayer.Character:FindFirstChild("Head") then
            local camera = workspace.CurrentCamera
            camera.CFrame = CFrame.new(camera.CFrame.Position, nearestPlayer.Character.Head.Position)
        end
    end
end)
