local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Rayfield/main/source'))()

local enabledKey = "Insert" -- مفتاح لتمكين/تعطيل السكربت
local isEnabled = true
local aimAtNearestPlayer = true -- قم بتعديل هذا السطر ليكون ضروريًا
local hitboxEnabled = false

local Window = Rayfield:CreateWindow({
    Name = "Script no scoop by abo_3le ",
    LoadingTitle = "Loading...",
    LoadingSubtitle = "team zio",
    ConfigurationSaving = {
       Enabled = true,
       FolderName = nil,
       FileName = "ExampleConfig"
    },
    Discord = {
       Enabled = false,
       Invite = "noinvitelink",
       RememberJoins = true
    },
    KeySystem = true,
    KeySettings = {
       Title = "Key System",
       Subtitle = "Key System",
       Note = "Join the discord (discord.gg/abcdefg)",
       FileName = "KeyFile",
       SaveKey = true,
       GrabKeyFromSite = false,
       Key = "Key2020"
    }
})

local PlayerTab = Window:CreateTab("Player", 4483362458)

local function findNearestPlayer()
    local player = game.Players.LocalPlayer
    local nearestPlayer = nil
    local shortestDistance = math.huge

    for _, targetPlayer in pairs(game.Players:GetPlayers()) do
        if targetPlayer ~= player and targetPlayer.Character and targetPlayer.Character:FindFirstChild("Head") then
            local distance = (player.Character.Head.Position - targetPlayer.Character.Head.Position).magnitude
            if distance < shortestDistance then
                nearestPlayer = targetPlayer
                shortestDistance = distance
            end
        end
    end

    return nearestPlayer
end

local newHitboxSize = Vector3.new(50, 50, 50)

PlayerTab:CreateSlider({
    Name = "Hitbox Size",
    Range = {10, 100},
    Increment = 1,
    Suffix = "Size",
    CurrentValue = 20,
    Callback = function(value)
        newHitboxSize = Vector3.new(value, value, value)
    end
})

PlayerTab:CreateToggle({
    Name = "Aim bot DONT OF AIM BOT WELL CRACH SCRIPT",
    CurrentValue = aimAtNearestPlayer,
    Callback = function(value)
        aimAtNearestPlayer = value
    end
})

PlayerTab:CreateToggle({
    Name = "Enable Hitbox",
    CurrentValue = false,
    Callback = function(value)
        hitboxEnabled = value
    end
})

game:GetService("UserInputService").InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode[enabledKey] then
        isEnabled = not isEnabled
        if isEnabled then
            print("Script enabled.")
        else
            print("Script disabled.")
        end
    end
end)

game:GetService("RunService").RenderStepped:Connect(function()
    if isEnabled then
        local player = game.Players.LocalPlayer

        if aimAtNearestPlayer then
            local nearestPlayer = findNearestPlayer()
            if nearestPlayer and nearestPlayer.Character and nearestPlayer.Character:FindFirstChild("Head") then
                local camera = workspace.CurrentCamera
                camera.CFrame = CFrame.new(camera.CFrame.Position, nearestPlayer.Character.Head.Position)
            end
        end

        if hitboxEnabled then
            for _, enemy in pairs(game.Players:GetPlayers()) do
                if enemy ~= player and enemy.Character and enemy.Character:FindFirstChild("HumanoidRootPart") then
                    local hrp = enemy.Character.HumanoidRootPart
                    hrp.Size = newHitboxSize
                    hrp.Transparency = 0.5
                    hrp.CanCollide = false
                end
            end
        end
    end
end)

game.Players.LocalPlayer.CharacterAdded:Connect(function(character)
    character:WaitForChild("Humanoid").Died:Connect(function()
        wait(1)
        local nearestPlayer = findNearestPlayer()
        if nearestPlayer then
            local player = game.Players.LocalPlayer
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                player.Character:SetPrimaryPartCFrame(nearestPlayer.Character.HumanoidRootPart.CFrame)
            end
        end
    end)
end)
